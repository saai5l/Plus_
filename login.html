<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plus Dev â€” ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</title>
  <link rel="icon" type="image/png" href="https://cdn.discordapp.com/avatars/990216490085142578/4b1d6f63ac4b6e1a59a320ef820a2053.png?size=64">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;900&display=swap" rel="stylesheet">
  <meta name="theme-color" content="#fc7823">
  <style>
    :root {
      --primary:      #fc7823;
      --primary-dark: #e66a1f;
      --primary-glow: rgba(252,120,35,0.35);
      --bg-deep:      #050505;
      --bg-card:      rgba(14,14,14,0.97);
      --bg-input:     rgba(255,255,255,0.06);
      --border:       rgba(255,255,255,0.07);
      --border-focus: rgba(252,120,35,0.6);
      --text:         #e0e0e0;
      --text-muted:   #777;
      --discord:      #5865F2;
      --discord-dark: #4752c4;
      --steam:        #1b2838;
      --steam-mid:    #2a475e;
      --steam-accent: #66c0f4;
      --radius:       14px;
      --tr:           all 0.3s ease;
    }
    *, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }

    body {
      font-family:'Tajawal',sans-serif;
      background: var(--bg-deep);
      color: var(--text);
      min-height: 100vh;
      display: flex; align-items: center; justify-content: center;
      overflow: hidden; position: relative;
    }

    /* â”€â”€â”€ Animated mesh background â”€â”€â”€ */
    .bg {
      position: fixed; inset: 0; z-index: 0;
      background:
        radial-gradient(ellipse 80% 60% at 15% 10%, rgba(252,120,35,0.09) 0%, transparent 65%),
        radial-gradient(ellipse 70% 50% at 85% 90%, rgba(252,120,35,0.06) 0%, transparent 65%),
        radial-gradient(ellipse 100% 100% at 50% 50%, #050505 40%, #050505 100%);
    }

    /* â”€â”€â”€ Particles â”€â”€â”€ */
    .particle {
      position: fixed; border-radius: 50%; pointer-events: none;
      opacity: 0; animation: floatUp linear infinite;
    }
    @keyframes floatUp {
      0%   { transform: translateY(110vh) scale(0.2); opacity: 0; }
      8%   { opacity: 0.5; }
      92%  { opacity: 0.12; }
      100% { transform: translateY(-10vh) scale(1); opacity: 0; }
    }

    /* â”€â”€â”€ Card â”€â”€â”€ */
    .card {
      position: relative; z-index: 2;
      background: var(--bg-card);
      border: 1px solid rgba(252,120,35,0.1);
      border-radius: 24px;
      padding: 44px 40px 36px;
      width: 100%; max-width: 440px;
      box-shadow:
        0 0 0 1px rgba(252,120,35,0.06),
        0 32px 80px rgba(0,0,0,0.75),
        inset 0 1px 0 rgba(255,255,255,0.04);
      animation: cardIn .65s cubic-bezier(.22,1,.36,1) both;
    }
    @keyframes cardIn {
      from { opacity:0; transform: translateY(36px) scale(0.97); }
      to   { opacity:1; transform: translateY(0) scale(1); }
    }

    /* Orange top accent */
    .card::before {
      content:'';
      position: absolute; top:0; left:28px; right:28px; height:2.5px;
      background: linear-gradient(90deg, transparent, var(--primary), transparent);
      border-radius: 0 0 6px 6px;
    }

    /* â”€â”€â”€ Logo â”€â”€â”€ */
    .logo { text-align:center; margin-bottom:30px; }
    .logo img {
      width:70px; height:70px; border-radius:50%;
      border: 2px solid rgba(252,120,35,0.45);
      box-shadow: 0 0 22px var(--primary-glow);
      animation: glow 3s ease-in-out infinite;
    }
    @keyframes glow {
      0%,100% { box-shadow: 0 0 22px var(--primary-glow); }
      50%      { box-shadow: 0 0 38px rgba(252,120,35,0.55); }
    }
    .logo h1 { margin-top:13px; font-size:1.5rem; font-weight:900; color:#fff; letter-spacing:-.5px; }
    .logo h1 span { color:var(--primary); }
    .logo p { font-size:.84rem; color:var(--text-muted); margin-top:3px; }

    /* â”€â”€â”€ Tabs â”€â”€â”€ */
    .tabs {
      display:flex; gap:4px;
      background:rgba(255,255,255,0.04);
      border-radius:10px; padding:4px;
      margin-bottom:26px;
    }
    .tab {
      flex:1; padding:8px 0;
      border:none; border-radius:7px;
      font-family:'Tajawal',sans-serif; font-size:.8rem; font-weight:700;
      color:var(--text-muted); background:transparent; cursor:pointer;
      transition: var(--tr);
    }
    .tab.on {
      background: linear-gradient(135deg,var(--primary),var(--primary-dark));
      color:#fff;
      box-shadow: 0 4px 14px rgba(252,120,35,0.32);
    }
    .tab i { margin-left:4px; }

    /* â”€â”€â”€ Panels â”€â”€â”€ */
    .panel { display:none; animation: pan .3s ease; }
    .panel.on { display:block; }
    @keyframes pan {
      from { opacity:0; transform:translateY(7px); }
      to   { opacity:1; transform:translateY(0); }
    }

    /* â”€â”€â”€ Alert â”€â”€â”€ */
    .alert {
      display:none; align-items:center; gap:9px;
      padding:11px 14px; border-radius:10px;
      font-size:.86rem; font-weight:600;
      margin-bottom:18px;
      animation: aIn .3s ease;
    }
    @keyframes aIn { from{opacity:0;transform:translateY(-5px)} to{opacity:1;transform:none} }
    .alert.on  { display:flex; }
    .alert.err { background:rgba(231,76,60,.14); border:1px solid rgba(231,76,60,.35); color:#ff7070; }
    .alert.ok  { background:rgba(46,204,113,.11); border:1px solid rgba(46,204,113,.3);  color:#5dda8f; }
    .alert.inf { background:rgba(252,120,35,.11); border:1px solid rgba(252,120,35,.3);  color:#fca366; }

    /* â”€â”€â”€ Discord button â”€â”€â”€ */
    .discord-btn {
      width:100%; display:flex; align-items:center; justify-content:center; gap:11px;
      padding:14px; background:linear-gradient(135deg,var(--discord),var(--discord-dark));
      border:none; border-radius:var(--radius); color:#fff;
      font-family:'Tajawal',sans-serif; font-size:1.05rem; font-weight:800;
      cursor:pointer; transition:var(--tr);
      box-shadow: 0 6px 20px rgba(88,101,242,.35);
      position:relative; overflow:hidden;
    }
    .discord-btn::after { content:''; position:absolute; inset:0; background:rgba(255,255,255,.1); opacity:0; transition:opacity .3s; }
    .discord-btn:hover  { transform:translateY(-2px); box-shadow:0 10px 28px rgba(88,101,242,.5); }
    .discord-btn:hover::after { opacity:1; }
    .discord-btn i { font-size:1.25rem; }
    .discord-note { font-size:.8rem; color:var(--text-muted); text-align:center; margin-top:12px; line-height:1.55; }

    /* â”€â”€â”€ Steam button â”€â”€â”€ */
    .steam-btn {
      width:100%; display:flex; align-items:center; justify-content:center; gap:11px;
      padding:14px; background:linear-gradient(135deg, var(--steam), var(--steam-mid));
      border:1px solid rgba(102,192,244,0.2); border-radius:var(--radius); color:#c6d4df;
      font-family:'Tajawal',sans-serif; font-size:1.05rem; font-weight:800;
      cursor:pointer; transition:var(--tr);
      box-shadow: 0 6px 20px rgba(27,40,56,0.6);
      position:relative; overflow:hidden;
    }
    .steam-btn::after { content:''; position:absolute; inset:0; background:rgba(102,192,244,.06); opacity:0; transition:opacity .3s; }
    .steam-btn:hover  { transform:translateY(-2px); box-shadow:0 10px 28px rgba(102,192,244,.2); border-color:rgba(102,192,244,.5); color:#fff; }
    .steam-btn:hover::after { opacity:1; }
    .steam-btn img { width:22px; height:22px; }

    /* â”€â”€â”€ Steam profile preview â”€â”€â”€ */
    .steam-preview {
      margin-top:14px;
      padding:14px 16px;
      background:rgba(27,40,56,0.6);
      border:1px solid rgba(102,192,244,0.2);
      border-radius:12px;
      display:none;
      align-items:center;
      gap:12px;
      animation: aIn .3s ease;
    }
    .steam-preview.on { display:flex; }
    .steam-preview img { width:44px; height:44px; border-radius:50%; border:2px solid rgba(102,192,244,.4); flex-shrink:0; }
    .steam-preview-info { flex:1; }
    .steam-preview-name { font-weight:800; color:#c6d4df; font-size:.93rem; }
    .steam-preview-id   { font-size:.72rem; color:rgba(255,255,255,.3); margin-top:2px; }
    .steam-linked-badge {
      display:inline-flex; align-items:center; gap:5px;
      background:rgba(102,192,244,.1); border:1px solid rgba(102,192,244,.25);
      color:var(--steam-accent); padding:3px 9px; border-radius:20px;
      font-size:.72rem; font-weight:700; margin-top:5px;
    }

    /* â”€â”€â”€ Steam link offer â”€â”€â”€ */
    .steam-link-offer {
      display:none; margin-top:12px; padding:13px 15px;
      background:linear-gradient(135deg,rgba(27,40,56,.8),rgba(42,71,94,.5));
      border:1px solid rgba(102,192,244,.25); border-radius:12px;
      font-size:.83rem; color:var(--text-muted); line-height:1.6;
    }
    .steam-link-offer.on { display:block; }
    .steam-link-offer strong { color:var(--steam-accent); }

    /* â”€â”€â”€ Divider â”€â”€â”€ */
    .div {
      display:flex; align-items:center; gap:10px;
      color:var(--text-muted); font-size:.8rem; margin:20px 0;
    }
    .div::before,.div::after { content:''; flex:1; height:1px; background:var(--border); }

    /* â”€â”€â”€ Link banner â”€â”€â”€ */
    .link-banner {
      display:none; padding:13px 15px;
      background:linear-gradient(135deg,rgba(88,101,242,.12),rgba(252,120,35,.07));
      border:1px solid rgba(88,101,242,.3); border-radius:12px; margin-bottom:18px;
      font-size:.84rem; color:var(--text-muted); line-height:1.6;
    }
    .link-banner.on { display:block; }
    .link-banner strong { color:#9da7fb; }
    .link-actions { display:flex; gap:8px; margin-top:10px; }
    .lbtn {
      flex:1; padding:9px; border-radius:8px; border:none;
      font-family:'Tajawal',sans-serif; font-size:.85rem; font-weight:800;
      cursor:pointer; transition:var(--tr);
    }
    .lbtn-y { background:var(--discord); color:#fff; }
    .lbtn-y:hover { background:var(--discord-dark); }
    .lbtn-n { background:rgba(255,255,255,.07); color:var(--text-muted); }
    .lbtn-n:hover { background:rgba(255,255,255,.13); }

    /* â”€â”€â”€ Form fields â”€â”€â”€ */
    .fg { margin-bottom:15px; }
    label { display:block; font-size:.83rem; font-weight:700; color:var(--text-muted); margin-bottom:6px; }
    .iw { position:relative; }
    .iw i.ic { position:absolute; top:50%; transform:translateY(-50%); right:13px; color:var(--text-muted); font-size:.88rem; pointer-events:none; transition:color .3s; }
    input[type="email"],input[type="password"],input[type="text"] {
      width:100%; padding:12px 40px 12px 42px;
      background:var(--bg-input); border:1.5px solid var(--border); border-radius:10px;
      color:var(--text); font-family:'Tajawal',sans-serif; font-size:.95rem; outline:none;
      transition:var(--tr);
    }
    input:focus {
      border-color:var(--border-focus);
      background:rgba(252,120,35,.05);
      box-shadow:0 0 0 3px rgba(252,120,35,.1);
    }
    input:focus ~ i.ic,.iw:focus-within i.ic { color:var(--primary); }
    input::placeholder { color:rgba(255,255,255,.22); }

    /* Eye toggle */
    .eye {
      position:absolute; top:50%; transform:translateY(-50%); left:11px;
      background:none; border:none; color:var(--text-muted); cursor:pointer; font-size:.88rem; padding:4px;
      transition:color .3s;
    }
    .eye:hover { color:var(--primary); }

    /* â”€â”€â”€ Extras â”€â”€â”€ */
    .extras { display:flex; align-items:center; justify-content:space-between; margin-bottom:20px; font-size:.82rem; }
    .rem { display:flex; align-items:center; gap:7px; cursor:pointer; color:var(--text-muted); user-select:none; }
    .rem input[type="checkbox"] { accent-color:var(--primary); width:14px; height:14px; }
    .forgot { color:var(--primary); text-decoration:none; transition:opacity .3s; }
    .forgot:hover { opacity:.7; }

    /* â”€â”€â”€ Submit â”€â”€â”€ */
    .sbtn {
      width:100%; padding:14px;
      background:linear-gradient(135deg,var(--primary),var(--primary-dark));
      border:none; border-radius:var(--radius); color:#fff;
      font-family:'Tajawal',sans-serif; font-size:1.05rem; font-weight:800;
      cursor:pointer; transition:var(--tr);
      box-shadow:0 6px 20px rgba(252,120,35,.3);
      position:relative; overflow:hidden;
    }
    .sbtn::after { content:''; position:absolute; inset:0; background:rgba(255,255,255,.1); opacity:0; transition:opacity .3s; }
    .sbtn:hover { transform:translateY(-2px); box-shadow:0 10px 28px rgba(252,120,35,.45); }
    .sbtn:hover::after { opacity:1; }
    .sbtn:disabled { opacity:.6; cursor:not-allowed; transform:none; }
    .spin { display:inline-block; width:15px; height:15px; border:2px solid rgba(255,255,255,.35); border-top-color:#fff; border-radius:50%; animation:sp .7s linear infinite; vertical-align:middle; margin-left:7px; }
    @keyframes sp { to{transform:rotate(360deg)} }

    /* â”€â”€â”€ Switch â”€â”€â”€ */
    .sw { text-align:center; margin-top:18px; font-size:.83rem; color:var(--text-muted); }
    .sw a { color:var(--primary); text-decoration:none; font-weight:700; }
    .sw a:hover { text-decoration:underline; }

    /* â”€â”€â”€ Footer â”€â”€â”€ */
    .foot { text-align:center; margin-top:26px; padding-top:18px; border-top:1px solid var(--border); font-size:.78rem; color:var(--text-muted); }
    .foot a { color:var(--primary); text-decoration:none; }

    /* â”€â”€â”€ Back link â”€â”€â”€ */
    .back {
      position:fixed; top:22px; right:26px; z-index:10;
      display:flex; align-items:center; gap:7px;
      color:var(--text-muted); text-decoration:none; font-size:.86rem;
      transition:var(--tr);
    }
    .back:hover { color:var(--primary); }

    @media (max-width:480px) {
      .card { margin:14px; padding:30px 20px 26px; border-radius:18px; }
      .logo img { width:58px; height:58px; }
      .logo h1 { font-size:1.28rem; }
    }
  </style>
</head>
<body>
<div class="bg"></div>

<a href="index.html" class="back">
  <i class="fas fa-arrow-right"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
</a>

<div class="card">

  <!-- Logo -->
  <div class="logo">
    <img src="https://cdn.discordapp.com/avatars/990216490085142578/4b1d6f63ac4b6e1a59a320ef820a2053.png?size=128" alt="Plus Dev">
    <h1>Plus <span>Dev</span></h1>
    <p>Ø³Ø¬Ù‘Ù„ Ø¯Ø®ÙˆÙ„Ùƒ Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù„ÙˆØ­ØªÙƒ</p>
  </div>

  <!-- Tabs -->
  <div class="tabs">
    <button class="tab on"  id="tab-discord"  onclick="switchTab('discord')"><i class="fab fa-discord"></i>  Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯</button>
    <button class="tab"     id="tab-steam"    onclick="switchTab('steam')">  <i class="fab fa-steam"></i>   Ø³ØªÙŠÙ…</button>
    <button class="tab"     id="tab-email"    onclick="switchTab('email')">  <i class="fas fa-envelope"></i> Ø¥ÙŠÙ…ÙŠÙ„</button>
  </div>

  <!-- Alert (shared) -->
  <div class="alert" id="alert"></div>

  <!-- â•â• Discord Panel â•â• -->
  <div class="panel on" id="p-discord">
    <button class="discord-btn" onclick="loginDiscord()">
      <i class="fab fa-discord"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ø¨Ø± Discord
    </button>
    <p class="discord-note">Ø³ÙŠØªÙ… Ø¬Ù„Ø¨ Ø¥ÙŠÙ…ÙŠÙ„Ùƒ Ù…Ù† Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ ÙˆØ­ÙØ¸Ù‡ØŒ Ø¹Ø´Ø§Ù† ØªÙ‚Ø¯Ø± ØªØ³Ø¬Ù„ Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ Ù„Ø§Ø­Ù‚Ø§Ù‹.</p>
  </div>

  <!-- â•â• Steam Panel â•â• -->
  <div class="panel" id="p-steam">

    <button class="steam-btn" id="steam-login-btn" onclick="loginSteam()">
      <img src="https://store.steampowered.com/favicon.ico" alt="Steam">
      ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ø¨Ø± Steam
    </button>

    <p class="discord-note">Ø³ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„Ùƒ Ù„Ø³ØªÙŠÙ… Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù‡ÙˆÙŠØªÙƒØŒ Ø«Ù… ØªØ±Ø¬Ø¹ Ù‡Ù†Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹.</p>

    <!-- Ø¨Ø¹Ø¯ Ø§Ù„Ø¯Ø®ÙˆÙ„ â€” Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø­Ø³Ø§Ø¨ -->
    <div class="steam-preview" id="steam-preview">
      <img id="steam-av" src="">
      <div class="steam-preview-info">
        <div class="steam-preview-name" id="steam-uname">â€”</div>
        <div class="steam-preview-id"   id="steam-uid">Steam ID: â€”</div>
        <span class="steam-linked-badge"><i class="fab fa-steam"></i> Ù…ØªØµÙ„ Ø¨Ø³ØªÙŠÙ…</span>
      </div>
    </div>

    <!-- Ø¹Ø±Ø¶ Ø±Ø¨Ø· Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ Ø¨Ø¹Ø¯ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø³ØªÙŠÙ… -->
    <div class="steam-link-offer" id="steam-link-offer">
      <i class="fab fa-discord" style="color:#9da7fb;margin-left:6px"></i>
      <strong>ØªØ¨ØºÙ‰ ØªØ±Ø¨Ø· Ø­Ø³Ø§Ø¨Ùƒ Ø¨Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ØŸ</strong><br>
      ÙŠØ®Ù„ÙŠÙƒ ØªØ³Ø¬Ù„ Ø¨Ø§Ù„Ø·Ø±ÙŠÙ‚ØªÙŠÙ† ÙˆØªØ­ØªÙØ¸ Ø¨ÙƒÙ„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ.
      <div class="link-actions" style="margin-top:10px">
        <button class="lbtn lbtn-y" onclick="steamLinkDiscord()"><i class="fab fa-discord"></i> Ø±Ø¨Ø· Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯</button>
        <button class="lbtn lbtn-n" onclick="steamSkipLink()">ØªØ®Ø·Ù‰</button>
      </div>
    </div>

  </div>

  <!-- â•â• Email Panel â•â• -->
  <div class="panel" id="p-email">

    <!-- Link banner -->
    <div class="link-banner" id="link-banner">
      <i class="fab fa-discord" style="color:#9da7fb;margin-left:5px"></i>
      <strong>Ø¥ÙŠÙ…ÙŠÙ„Ùƒ Ù…Ø±ØªØ¨Ø· Ø¨Ø­Ø³Ø§Ø¨ Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯!</strong><br>
      ØªØ¨ØºÙ‰ ØªØ±Ø¨Ø·Ù‡Ù… Ø¹Ø´Ø§Ù† ØªÙ‚Ø¯Ø± ØªØ³Ø¬Ù„ Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ù„Ø·Ø±ÙŠÙ‚ØªÙŠÙ† ÙˆØªØ­ØªÙØ¸ Ø¨ÙƒÙ„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒØŸ
      <div class="link-actions">
        <button class="lbtn lbtn-y" onclick="confirmLink()">
          <i class="fab fa-discord"></i> Ù†Ø¹Ù…ØŒ Ø§Ø±ØªØ¨Ø·
        </button>
        <button class="lbtn lbtn-n" onclick="dismissLink()">Ø¯Ø®ÙˆÙ„ ÙÙ‚Ø·</button>
      </div>
    </div>

    <form id="ef" onsubmit="submitEmail(event)" novalidate>
      <div class="fg">
        <label for="em">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
        <div class="iw">
          <input type="email" id="em" placeholder="example@gmail.com" autocomplete="email" required>
          <i class="fas fa-envelope ic"></i>
        </div>
      </div>

      <div class="fg">
        <label for="pw">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
        <div class="iw">
          <input type="password" id="pw" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="current-password" required>
          <i class="fas fa-lock ic"></i>
          <button type="button" class="eye" onclick="togglePw()" title="Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡">
            <i class="fas fa-eye" id="eye"></i>
          </button>
        </div>
      </div>

      <div class="extras">
        <label class="rem">
          <input type="checkbox" id="rem"> ØªØ°ÙƒØ±Ù†ÙŠ
        </label>
        <a href="#" class="forgot" onclick="forgotPw();return false">Ù†Ø³ÙŠØª Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯ØŸ</a>
      </div>

      <button type="submit" class="sbtn" id="sbtn">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
    </form>

    <div class="sw">
      Ù…Ø§ Ø¹Ù†Ø¯Ùƒ Ø­Ø³Ø§Ø¨ØŸ <a href="#" onclick="switchTab('discord');return false">Ø³Ø¬Ù‘Ù„ Ø¹Ø¨Ø± Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯</a>
    </div>
  </div>

  <!-- Footer -->
  <div class="foot">
    Ø¨Ø§Ù„Ø¯Ø®ÙˆÙ„ ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ <a href="#">Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</a> Ùˆ<a href="#">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a>
    <br><br>
    <span style="color:#333">Â© Plus Dev 2025</span>
  </div>

</div>

<script>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â• CONFIG â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const CLIENT_ID   = '1453875994988380373';
const REDIRECT_URI = 'https://saai5l.github.io/Plus_/login.html';

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â• PARTICLES â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
(function(){
  const colors=['#fc7823','rgba(252,120,35,0.5)','#e66a1f','rgba(252,120,35,0.25)'];
  for(let i=0;i<20;i++){
    const p=document.createElement('div'); p.className='particle';
    const s=Math.random()*5+2;
    p.style.cssText=`width:${s}px;height:${s}px;left:${Math.random()*100}vw;`+
      `background:${colors[Math.floor(Math.random()*colors.length)]};`+
      `animation-delay:${Math.random()*15}s;animation-duration:${Math.random()*12+10}s;`;
    document.body.appendChild(p);
  }
})();

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â• TABS â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function switchTab(t){
  ['discord','steam','email'].forEach(id=>{
    document.getElementById('tab-'+id)?.classList.toggle('on', id===t);
    document.getElementById('p-'+id)?.classList.toggle('on', id===t);
  });
  clearAlert();
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â• ALERT â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function showAlert(msg,type='err'){
  const icons={err:'fa-circle-exclamation',ok:'fa-circle-check',inf:'fa-circle-info'};
  const el=document.getElementById('alert');
  el.className=`alert on ${type}`;
  el.innerHTML=`<i class="fas ${icons[type]}"></i> ${msg}`;
}
function clearAlert(){
  const el=document.getElementById('alert');
  el.className='alert'; el.innerHTML='';
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â• PASSWORD TOGGLE â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function togglePw(){
  const i=document.getElementById('pw'),e=document.getElementById('eye');
  i.type=i.type==='password'?'text':'password';
  e.className='fas fa-'+(i.type==='text'?'eye-slash':'eye');
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   DISCORD LOGIN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function loginDiscord(){
  const scope=encodeURIComponent('identify email');
  window.location.href=`https://discord.com/api/oauth2/authorize?client_id=${CLIENT_ID}`+
    `&redirect_uri=${encodeURIComponent(REDIRECT_URI)}&response_type=token&scope=${scope}`;
}

function handleDiscordUser(u){
  const avatar = u.avatar
    ? `https://cdn.discordapp.com/avatars/${u.id}/${u.avatar}.png`
    : `https://cdn.discordapp.com/embed/avatars/${(u.discriminator||0)%5}.png`;
  const email = (u.email||'').toLowerCase()||null;

  const userData = { id:u.id, name:u.global_name||u.username, avatar, email, loginVia:'discord' };

  // Ø­ÙØ¸
  localStorage.setItem('user',         JSON.stringify(userData));
  localStorage.setItem('plusdev_user', JSON.stringify(userData));

  // Cache Discord
  const du = JSON.parse(localStorage.getItem('pd_discord_users')||'{}');
  du[u.id] = userData;
  localStorage.setItem('pd_discord_users', JSON.stringify(du));
  if(email) saveEmailLink(email, u.id);

  // Ù‡Ù„ Ø¬Ø§Ø¡ Ù…Ù† Ø±Ø¨Ø· Ø³ØªÙŠÙ…ØŸ
  const linking = sessionStorage.getItem('pd_linking');
  if(linking==='steam_to_discord'){
    sessionStorage.removeItem('pd_linking');
    const steamUser = JSON.parse(localStorage.getItem('pd_pending_steam')||'null');
    if(steamUser){
      localStorage.removeItem('pd_pending_steam');
      const merged = { ...userData, steamId:steamUser.steamId, loginVia:'both' };
      saveSteamLink(steamUser.steamId, u.id);
      localStorage.setItem('user',         JSON.stringify(merged));
      localStorage.setItem('plusdev_user', JSON.stringify(merged));
      loginOk(merged, true, 'ØªÙ… Ø±Ø¨Ø· Ø³ØªÙŠÙ… Ø¨Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯! ğŸ®ğŸ”—');
      return;
    }
  }

  loginOk(userData, true, 'Ù…Ø±Ø­Ø¨Ø§Ù‹ '+userData.name+'! Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­ÙˆÙŠÙ„â€¦');
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   STEAM LOGIN  (OpenID 2.0)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function loginSteam(){
  const returnTo = encodeURIComponent(REDIRECT_URI + '?steam=1');
  const realm    = encodeURIComponent(new URL(REDIRECT_URI).origin + '/');
  window.location.href =
    'https://steamcommunity.com/openid/login' +
    '?openid.ns='         + encodeURIComponent('http://specs.openid.net/auth/2.0') +
    '&openid.mode=checkid_setup' +
    '&openid.return_to='  + returnTo +
    '&openid.realm='      + realm +
    '&openid.identity='   + encodeURIComponent('http://specs.openid.net/auth/2.0/identifier_select') +
    '&openid.claimed_id=' + encodeURIComponent('http://specs.openid.net/auth/2.0/identifier_select');
}

let _pendingSteam = null;

async function handleSteamCallback(params){
  const claimed = params.get('openid.claimed_id')||'';
  const match   = claimed.match(/\/(\d{17})$/);
  if(!match){ showAlert('ÙØ´Ù„ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø³ØªÙŠÙ…ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø«Ø§Ù†ÙŠØ©.'); return; }

  const steamId = match[1];
  showAlert('Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø³ØªÙŠÙ…â€¦','inf');
  switchTab('steam');

  // Ø¬Ù„Ø¨ Ø§Ø³Ù… ÙˆØµÙˆØ±Ø© Ø¹Ø¨Ø± proxy Ù…Ø¬Ø§Ù†ÙŠ
  let name = 'Ù…Ø³ØªØ®Ø¯Ù… Ø³ØªÙŠÙ…', avatar = 'https://avatars.steamstatic.com/fef49e7fa7e1997310d705b2a6158ff8dc1cdfeb_full.jpg';
  try{
    const r = await fetch(
      `https://api.allorigins.win/get?url=${encodeURIComponent('https://api.steampowered.com/ISteamUser/GetPlayerSummaries/v2/?key=&steamids='+steamId)}`,
      {signal:AbortSignal.timeout(6000)}
    );
    const j  = await r.json();
    const p  = JSON.parse(j.contents)?.response?.players?.[0];
    if(p){ name=p.personaname||name; avatar=p.avatarfull||avatar; }
  }catch{}

  // Ø¹Ø±Ø¶ Ù…Ø¹Ø§ÙŠÙ†Ø©
  document.getElementById('steam-av').src    = avatar;
  document.getElementById('steam-uname').textContent = name;
  document.getElementById('steam-uid').textContent   = 'Steam ID: '+steamId;
  document.getElementById('steam-preview').classList.add('on');
  document.getElementById('steam-login-btn').style.display = 'none';

  clearAlert();

  // Ù‡Ù„ Ù…Ø±ØªØ¨Ø· Ù…Ø³Ø¨Ù‚Ø§Ù‹ØŸ
  const linkedDiscord = getSteamLink(steamId);
  if(linkedDiscord){
    const du = JSON.parse(localStorage.getItem('pd_discord_users')||'{}');
    const dc = du[linkedDiscord];
    if(dc){
      const merged = {...dc, steamId, loginVia:'both'};
      loginOk(merged, true, 'Ø£Ù‡Ù„Ø§Ù‹ '+dc.name+'! ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ø¹Ø¨Ø± Ø³ØªÙŠÙ… ğŸ®');
      return;
    }
  }

  // Ø­Ø³Ø§Ø¨ Ø³ØªÙŠÙ… Ø¬Ø¯ÙŠØ¯
  _pendingSteam = { steamId, name, avatar };
  const hasDiscord = Object.keys(JSON.parse(localStorage.getItem('pd_discord_users')||'{}')).length > 0;

  if(hasDiscord){
    document.getElementById('steam-link-offer').classList.add('on');
    showAlert('Ø­Ø³Ø§Ø¨ Ø³ØªÙŠÙ… Ø¬Ø§Ù‡Ø²! ØªØ¨ØºÙ‰ ØªØ±Ø¨Ø·Ù‡ Ø¨Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ØŸ','inf');
  } else {
    steamFinish();
  }
}

function steamLinkDiscord(){
  if(!_pendingSteam) return;
  // Ø§Ø­ÙØ¸ Ù…Ø¤Ù‚ØªØ§Ù‹ ÙˆØ±ÙˆÙ‘Ø­ Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯
  localStorage.setItem('pd_pending_steam', JSON.stringify(_pendingSteam));
  sessionStorage.setItem('pd_linking','steam_to_discord');
  loginDiscord();
}

function steamSkipLink(){
  document.getElementById('steam-link-offer').classList.remove('on');
  steamFinish();
}

function steamFinish(){
  if(!_pendingSteam) return;
  const { steamId, name, avatar } = _pendingSteam;
  const user = { id:'steam_'+steamId, name, avatar, steamId, loginVia:'steam' };
  saveSteamLink(steamId, null);
  loginOk(user, true, 'Ø£Ù‡Ù„Ø§Ù‹ '+name+'! Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­ÙˆÙŠÙ„ ğŸ®');
  _pendingSteam = null;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   EMAIL LOGIN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
let pendingLink = null;

async function submitEmail(e){
  e.preventDefault(); clearAlert();
  const email = document.getElementById('em').value.trim().toLowerCase();
  const pass  = document.getElementById('pw').value;
  const rem   = document.getElementById('rem').checked;
  const btn   = document.getElementById('sbtn');

  if(!email||!pass){ showAlert('ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„.'); return; }
  if(pass.length<6){ showAlert('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„.'); return; }

  btn.disabled=true; btn.innerHTML='Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ <span class="spin"></span>';

  const discordId = getLinkedDiscordId(email);
  const accounts  = getAccounts();

  if(discordId){
    if(accounts[email]){
      if(accounts[email].pass===hash(pass)) loginOk(accounts[email].user,rem);
      else showAlert('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©.');
    } else {
      pendingLink={email,pass,discordId,rem};
      document.getElementById('link-banner').classList.add('on');
      showAlert('ÙˆØ¬Ø¯Ù†Ø§ Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ Ù…Ø±ØªØ¨Ø· â€” Ø±Ø§Ø¬Ø¹ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ø£Ø¹Ù„Ø§Ù‡.','inf');
    }
  } else {
    if(accounts[email]){
      if(accounts[email].pass===hash(pass)) loginOk(accounts[email].user,rem);
      else showAlert('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©.');
    } else {
      const newUser={ id:'em_'+Date.now(), name:email.split('@')[0], avatar:`https://cdn.discordapp.com/embed/avatars/${Math.floor(Math.random()*5)}.png`, email, loginVia:'email' };
      saveAccount(email,pass,newUser);
      loginOk(newUser,rem,'ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ùƒ! ğŸ‰');
    }
  }
  btn.disabled=false; btn.innerHTML='ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„';
}

function confirmLink(){
  if(!pendingLink) return;
  const {email,pass,discordId,rem}=pendingLink;
  const dc=JSON.parse(localStorage.getItem('pd_discord_users')||'{}')[discordId]||null;
  const merged={ id:discordId, name:dc?dc.name:email.split('@')[0], avatar:dc?dc.avatar:'https://cdn.discordapp.com/embed/avatars/0.png', email, loginVia:'both', discordId };
  saveAccount(email,pass,merged);
  document.getElementById('link-banner').classList.remove('on');
  loginOk(merged,rem,'ØªÙ… Ø±Ø¨Ø· Ø§Ù„Ø­Ø³Ø§Ø¨ÙŠÙ†! ğŸ‰');
  pendingLink=null;
}

function dismissLink(){
  if(!pendingLink) return;
  const {email,pass,rem}=pendingLink;
  const newUser={ id:'em_'+Date.now(), name:email.split('@')[0], avatar:'https://cdn.discordapp.com/embed/avatars/0.png', email, loginVia:'email' };
  saveAccount(email,pass,newUser);
  document.getElementById('link-banner').classList.remove('on');
  loginOk(newUser,rem);
  pendingLink=null;
}

function forgotPw(){
  const email=document.getElementById('em').value.trim();
  if(!email){ showAlert('Ø§Ø¯Ø®Ù„ Ø¥ÙŠÙ…ÙŠÙ„Ùƒ Ø£ÙˆÙ„Ø§Ù‹.','inf'); document.getElementById('em').focus(); return; }
  const disc=getLinkedDiscordId(email);
  showAlert(disc ? 'Ø­Ø³Ø§Ø¨Ùƒ Ù…Ø±ØªØ¨Ø· Ø¨Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ â€” Ø³Ø¬Ù‘Ù„ Ø¹Ø¨Ø± Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯.' : 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø­Ø³Ø§Ø¨ Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„.','inf');
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LOGIN SUCCESS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function loginOk(user,rem,msg){
  const str=JSON.stringify(user);
  localStorage.setItem('user',         str);
  localStorage.setItem('plusdev_user', str);
  if(msg) showAlert(msg,'ok');
  else    showAlert('Ù…Ø±Ø­Ø¨Ø§Ù‹ '+( user.name||'')+'! Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­ÙˆÙŠÙ„â€¦','ok');
  setTimeout(redirectHome, 1300);
}
function redirectHome(){ window.location.href='https://saai5l.github.io/Plus_/index.html'; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   WINDOW LOAD â€” Callbacks
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
window.addEventListener('load', ()=>{
  const urlParams = new URLSearchParams(window.location.search);
  const fragment  = new URLSearchParams(window.location.hash.slice(1));
  const token     = fragment.get('access_token');

  /* â”€â”€ Steam callback â”€â”€ */
  if(urlParams.get('steam')==='1' && urlParams.get('openid.mode')==='id_res'){
    window.history.replaceState({}, document.title, window.location.pathname);
    handleSteamCallback(urlParams);
    return;
  }

  /* â”€â”€ Discord callback â”€â”€ */
  if(token){
    showAlert('Ø¬Ø§Ø±ÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„â€¦','inf');
    fetch('https://discord.com/api/users/@me',{headers:{Authorization:`Bearer ${token}`}})
      .then(r=>r.json())
      .then(u=>handleDiscordUser(u))
      .catch(()=>showAlert('ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ØŒ Ø¬Ø±Ø¨ Ù…Ø±Ø© Ø«Ø§Ù†ÙŠØ©.'));
    window.history.replaceState({}, document.title, window.location.pathname);
    return;
  }

  /* â”€â”€ ØªØ­Ù‚Ù‚ Ù…Ù† Ø¬Ù„Ø³Ø© Ù…ÙˆØ¬ÙˆØ¯Ø© â”€â”€ */
  try{
    const raw = localStorage.getItem('plusdev_user') || localStorage.getItem('user');
    if(raw){
      const parsed = JSON.parse(raw);
      if(parsed && parsed.id && parsed.name){
        const str = JSON.stringify(parsed);
        localStorage.setItem('user',         str);
        localStorage.setItem('plusdev_user', str);
        redirectHome();
        return;
      }
    }
    localStorage.removeItem('plusdev_user');
    localStorage.removeItem('user');
    sessionStorage.removeItem('plusdev_user');
  }catch(e){
    localStorage.removeItem('plusdev_user');
    localStorage.removeItem('user');
  }
});

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   STORAGE HELPERS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function saveEmailLink(email,discordId){
  const l=JSON.parse(localStorage.getItem('pd_email_links')||'{}');
  l[email]=discordId;
  localStorage.setItem('pd_email_links',JSON.stringify(l));
}
function getLinkedDiscordId(email){
  return (JSON.parse(localStorage.getItem('pd_email_links')||'{}')||{})[email]||null;
}
function getAccounts(){
  return JSON.parse(localStorage.getItem('pd_email_accounts')||'{}');
}
function saveAccount(email,pass,user){
  const a=getAccounts();
  a[email]={pass:hash(pass),user};
  localStorage.setItem('pd_email_accounts',JSON.stringify(a));
}
function saveSteamLink(steamId,discordId){
  const l=JSON.parse(localStorage.getItem('pd_steam_links')||'{}');
  l[steamId]=discordId;
  localStorage.setItem('pd_steam_links',JSON.stringify(l));
}
function getSteamLink(steamId){
  return (JSON.parse(localStorage.getItem('pd_steam_links')||'{}')||{})[steamId]||null;
}
function hash(s){
  let h=0;
  for(let i=0;i<s.length;i++) h=Math.imul(31,h)+s.charCodeAt(i)|0;
  return h.toString(36);
}
</script>
</body>
</html>
